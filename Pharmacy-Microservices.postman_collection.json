{
	"info": {
		"_postman_id": "pharmacy-microservices-collection",
		"name": "Pharmacy Microservices - GCP",
		"description": "Complete API collection for Pharmacy Microservices Platform deployed on GKE\n\n**Features:**\n- Authentication (JWT)\n- Product Management\n- Order Processing\n- Inventory Management\n- Event-Driven Architecture (Pub/Sub)\n\n**Live Demo:** http://35.223.190.243/docs\n**GitHub:** https://github.com/saifrehman100/pharmacy-microservices-gcp",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"User created successfully\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.expect(jsonData).to.have.property('username');",
									"    pm.expect(jsonData).to.have.property('email');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"username\": \"john_pharmacist\",\n  \"email\": \"john@pharmacy.com\",\n  \"password\": \"SecurePass123!\",\n  \"full_name\": \"John Doe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register a new user account"
					},
					"response": []
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Token received\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('access_token');",
									"    pm.environment.set(\"token\", jsonData.access_token);",
									"});",
									"",
									"console.log(\"‚úÖ JWT Token saved to environment variable\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "username",
									"value": "john_pharmacist",
									"type": "text"
								},
								{
									"key": "password",
									"value": "SecurePass123!",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login and receive JWT token (auto-saved to environment)"
					},
					"response": []
				},
				{
					"name": "Get Current User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"User info received\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('username');",
									"    pm.expect(jsonData).to.have.property('email');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"me"
							]
						},
						"description": "Get current authenticated user information"
					},
					"response": []
				}
			],
			"description": "User authentication endpoints"
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "Create Product - Paracetamol",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Product created\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.environment.set(\"product_id_1\", jsonData.id);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Paracetamol 500mg\",\n  \"description\": \"Pain reliever and fever reducer\",\n  \"price\": 5.99,\n  \"category\": \"Pain Relief\",\n  \"manufacturer\": \"PharmaCorp\",\n  \"requires_prescription\": false,\n  \"stock_keeping_unit\": \"PARA-500-PC\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/products",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products"
							]
						},
						"description": "Create a new product (Paracetamol)"
					},
					"response": []
				},
				{
					"name": "Create Product - Amoxicillin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Amoxicillin 250mg\",\n  \"description\": \"Antibiotic for bacterial infections\",\n  \"price\": 15.50,\n  \"category\": \"Antibiotics\",\n  \"manufacturer\": \"MediLife\",\n  \"requires_prescription\": true,\n  \"stock_keeping_unit\": \"AMOX-250-ML\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/products",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Product - Vitamin C",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Vitamin C 1000mg\",\n  \"description\": \"Immune system support supplement\",\n  \"price\": 12.99,\n  \"category\": \"Vitamins\",\n  \"manufacturer\": \"HealthPlus\",\n  \"requires_prescription\": false,\n  \"stock_keeping_unit\": \"VITC-1000-HP\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/products",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create Product - Ibuprofen",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Ibuprofen 400mg\",\n  \"description\": \"Anti-inflammatory pain reliever\",\n  \"price\": 8.75,\n  \"category\": \"Pain Relief\",\n  \"manufacturer\": \"PharmaCorp\",\n  \"requires_prescription\": false,\n  \"stock_keeping_unit\": \"IBU-400-PC\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/products",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Products",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Products returned\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products"
							]
						},
						"description": "List all products"
					},
					"response": []
				},
				{
					"name": "Get Product by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products",
								"1"
							]
						},
						"description": "Get specific product by ID"
					},
					"response": []
				},
				{
					"name": "Search Products",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/search?name=Paracetamol",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products",
								"search"
							],
							"query": [
								{
									"key": "name",
									"value": "Paracetamol"
								}
							]
						},
						"description": "Search products by name"
					},
					"response": []
				},
				{
					"name": "Update Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Paracetamol 500mg\",\n  \"description\": \"Pain reliever and fever reducer - Extra Strength\",\n  \"price\": 6.99,\n  \"category\": \"Pain Relief\",\n  \"manufacturer\": \"PharmaCorp\",\n  \"requires_prescription\": false,\n  \"stock_keeping_unit\": \"PARA-500-PC\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/products/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products",
								"1"
							]
						},
						"description": "Update existing product"
					},
					"response": []
				},
				{
					"name": "Delete Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/products/4",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"products",
								"4"
							]
						},
						"description": "Delete a product"
					},
					"response": []
				}
			],
			"description": "Product catalog management endpoints"
		},
		{
			"name": "Inventory",
			"item": [
				{
					"name": "Add Inventory - Paracetamol",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Inventory created\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('product_id');",
									"    pm.expect(jsonData.quantity).to.equal(100);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"product_id\": 1,\n  \"quantity\": 100,\n  \"location\": \"Warehouse A\",\n  \"batch_number\": \"BATCH-001\",\n  \"expiry_date\": \"2025-12-31\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/inventory",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory"
							]
						},
						"description": "Add inventory for Paracetamol"
					},
					"response": []
				},
				{
					"name": "Add Inventory - Amoxicillin",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"product_id\": 2,\n  \"quantity\": 50,\n  \"location\": \"Warehouse A\",\n  \"batch_number\": \"BATCH-002\",\n  \"expiry_date\": \"2025-10-15\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/inventory",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Inventory - Vitamin C",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"product_id\": 3,\n  \"quantity\": 200,\n  \"location\": \"Warehouse B\",\n  \"batch_number\": \"BATCH-003\",\n  \"expiry_date\": \"2026-06-30\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/inventory",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Inventory",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/inventory",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory"
							]
						},
						"description": "List all inventory records"
					},
					"response": []
				},
				{
					"name": "Get Inventory for Product",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/inventory/product/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory",
								"product",
								"1"
							]
						},
						"description": "Get inventory for specific product"
					},
					"response": []
				},
				{
					"name": "Adjust Inventory",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"adjustment\": 50,\n  \"reason\": \"Restocking from supplier\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/inventory/1/adjust",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory",
								"1",
								"adjust"
							]
						},
						"description": "Manually adjust inventory (positive = add, negative = remove)"
					},
					"response": []
				},
				{
					"name": "Get Low Stock Items",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/inventory/low-stock",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory",
								"low-stock"
							]
						},
						"description": "Get products with low stock levels"
					},
					"response": []
				}
			],
			"description": "Inventory management endpoints"
		},
		{
			"name": "Orders",
			"item": [
				{
					"name": "Create Order (Tests Pub/Sub!)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"Order created\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData).to.have.property('id');",
									"    pm.environment.set(\"order_id\", jsonData.id);",
									"});",
									"",
									"console.log(\"‚úÖ Order created! Pub/Sub event published to Inventory Service\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_name\": \"Alice Johnson\",\n  \"customer_email\": \"alice@example.com\",\n  \"customer_phone\": \"+1-555-0123\",\n  \"shipping_address\": \"123 Main St, Apt 4B, New York, NY 10001\",\n  \"items\": [\n    {\n      \"product_id\": 1,\n      \"quantity\": 5,\n      \"price\": 6.99\n    },\n    {\n      \"product_id\": 3,\n      \"quantity\": 2,\n      \"price\": 12.99\n    }\n  ],\n  \"total_amount\": 60.93,\n  \"payment_method\": \"credit_card\",\n  \"notes\": \"Please deliver before 5 PM\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							]
						},
						"description": "Create new order - triggers Pub/Sub event for automatic inventory reduction"
					},
					"response": []
				},
				{
					"name": "Create Order #2",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_name\": \"Bob Smith\",\n  \"customer_email\": \"bob@example.com\",\n  \"customer_phone\": \"+1-555-0456\",\n  \"shipping_address\": \"456 Oak Ave, Los Angeles, CA 90001\",\n  \"items\": [\n    {\n      \"product_id\": 2,\n      \"quantity\": 3,\n      \"price\": 15.50\n    }\n  ],\n  \"total_amount\": 46.50,\n  \"payment_method\": \"paypal\",\n  \"notes\": \"Prescription attached via email\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Orders",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							]
						},
						"description": "List all orders"
					},
					"response": []
				},
				{
					"name": "Get Order by ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/orders/{{order_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders",
								"{{order_id}}"
							]
						},
						"description": "Get specific order details"
					},
					"response": []
				},
				{
					"name": "Update Order Status - Processing",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"processing\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders/{{order_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders",
								"{{order_id}}",
								"status"
							]
						},
						"description": "Update order status to 'processing'"
					},
					"response": []
				},
				{
					"name": "Update Order Status - Shipped",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"shipped\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders/{{order_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders",
								"{{order_id}}",
								"status"
							]
						},
						"description": "Update order status to 'shipped'"
					},
					"response": []
				},
				{
					"name": "Update Order Status - Delivered",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"status\": \"delivered\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders/{{order_id}}/status",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders",
								"{{order_id}}",
								"status"
							]
						},
						"description": "Update order status to 'delivered'"
					},
					"response": []
				}
			],
			"description": "Order management endpoints"
		},
		{
			"name": "E2E Flow - Verify Pub/Sub",
			"item": [
				{
					"name": "1. Check Initial Inventory (Product 1)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Initial inventory checked\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.environment.set(\"initial_quantity\", jsonData.quantity);",
									"    console.log(\"üì¶ Initial Quantity: \" + jsonData.quantity);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/inventory/product/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory",
								"product",
								"1"
							]
						},
						"description": "Check inventory before order"
					},
					"response": []
				},
				{
					"name": "2. Create Order (Triggers Pub/Sub)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Order created successfully\", function () {",
									"    pm.response.to.have.status(201);",
									"    console.log(\"‚úÖ Order created! Pub/Sub event sent to Inventory Service\");",
									"    console.log(\"‚è≥ Wait 5-10 seconds for async processing...\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"customer_name\": \"Test Customer\",\n  \"customer_email\": \"test@example.com\",\n  \"customer_phone\": \"+1-555-9999\",\n  \"shipping_address\": \"789 Test St\",\n  \"items\": [\n    {\n      \"product_id\": 1,\n      \"quantity\": 5,\n      \"price\": 6.99\n    }\n  ],\n  \"total_amount\": 34.95,\n  \"payment_method\": \"credit_card\",\n  \"notes\": \"Testing Pub/Sub event-driven architecture\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/orders",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"orders"
							]
						},
						"description": "Create order that publishes Pub/Sub event"
					},
					"response": []
				},
				{
					"name": "3. Verify Inventory Reduced (After Pub/Sub)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Inventory reduced by Pub/Sub\", function () {",
									"    var jsonData = pm.response.json();",
									"    var initial = pm.environment.get(\"initial_quantity\");",
									"    var current = jsonData.quantity;",
									"    ",
									"    console.log(\"üì¶ Initial: \" + initial + \" ‚Üí Current: \" + current);",
									"    console.log(\"üìâ Reduced by: \" + (initial - current));",
									"    ",
									"    pm.expect(current).to.be.below(initial);",
									"    console.log(\"‚úÖ Pub/Sub event-driven architecture working!\");",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/inventory/product/1",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"inventory",
								"product",
								"1"
							]
						},
						"description": "Verify inventory was automatically reduced via Pub/Sub"
					},
					"response": []
				}
			],
			"description": "End-to-end flow demonstrating event-driven architecture with Cloud Pub/Sub"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://35.223.190.243",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		},
		{
			"key": "order_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "product_id_1",
			"value": "",
			"type": "string"
		},
		{
			"key": "initial_quantity",
			"value": "",
			"type": "string"
		}
	]
}
